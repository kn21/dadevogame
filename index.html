<!DOCTYPE html>
<html>
<head>
  <title>Da Devo Game</title>
</head>
<body>
  <style>
      body {
        margin: 0;
        overflow: hidden;
        background-image: url('bg_grass.jpg');
        background-size: cover;
      }
      .counter {
        font-family: "Comic Sans MS";
        color: white;
        font-size: 24px;
      }
  </style>
  <p id = 'counter' class = counter>Counter: <span id = 'varcount'>0</span></p>
  <script>
    //alert change
    alert('meow');
    //variables
    //update counter
    function newcount(count) {
      var countspan = document.getElementById('varcount');
      countspan.textContent = count;
    }
    //increase count
    function inccount(count) {
      count+= 1;
      newcount(count);
    }
    //move devo based on input key
    var keys = {};
    function keypress(event) {
      keys[event.keyCode] = true;
      dy = (keys[38]||keys[87])? -1 : (keys[83]||keys[40])? 1 : 0; //up down
      dx = (keys[65]||keys[37])? -1 : (keys[68]||keys[39])? 1 : 0; //left right
      if (keys[32]) {
        devosrc = 'devo_win.png';
        devo.src = devosrc;
      }

    }
    function keyrelease(event) {
      keys[event.keyCode] = false;
      dx = 0;
      dy = 0;
      devosrc = 'devo.png';
      devo.src = devosrc;
    }
    function move() {
      if (x < 0 || x > 1280) {
        x = (x<0) ? 50 : 1230;
        dx = 0;
      }
      if (y < 0 || y > 720) {
        y = (y<0) ? 50 : 670;
        dy = 0;
      }
      x+= dx*devospeed;
      y+= dy*devospeed;
      devo.style.left = x + 'px';
      devo.style.top = y + 'px';
      requestAnimationFrame(move);
    }
    //move bone
    function bmove() {
      bx+= dbx*bspeed;
      bone.style.left = bx + 'px';
      requestAnimationFrame(bmove);
    }
    //get key
    document.addEventListener('keydown', keypress);
    document.addEventListener('keyup', keyrelease);
    //Devo sprite
    var devo = document.createElement('img');
    var devosrc = 'devo.png';
    devo.src = devosrc;
    devo.width = 100;
    devo.height = 100;
    devo.style.position = 'absolute';
    //devo position
    var x = 50;
    var y = 350;
    var dx = 0;
    var dy = 0;
    var devospeed = 25;
    devo.style.left = x+'px';
    devo.style.top = y+'px';
    document.body.appendChild(devo);
    //Milkbone sprite
    var bone = document.createElement('img');
    bone.src = 'milkbone.png';
    bone.width = 100;
    bone.height = 100;
    bone.style.position = 'absolute';
    //bone position
    var bx = 1280;
    var by = Math.floor(Math.random() * 721);
    var dbx = -1;
    var bspeed = 25;
    bone.style.left = bx+'px';
    bone.style.top = by+'px';
    document.body.appendChild(bone);
    //change count
    var count = 0;
    //move
    requestAnimationFrame(move);
    requestAnimationFrame(bmove);
  </script>
</body>
</html>
